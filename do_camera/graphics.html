<style>
    body {
        margin: 0;
        padding: 0;
        width: 1920px;
        height: 1080px;
    }

    video {
        width: 300px;
        height: 300px;
        object-fit: cover;
        border-radius: 50%;
        margin-left: 25px;
        margin-top: 25px;
        transition: all 2s;
    }

    .border-wrap {
        width: 350px;
        height: 350px;
        border-radius: 50%;
        position: absolute;
        bottom: 20px;
        left: 20px;
        transition: all 2s;
        transform: scale(0) rotate(-1000deg);
    }

    .square {
        border-radius: 0;
    }        

    .penis {
        border-radius: 0 !important;
        -webkit-clip-path: polygon(36% 99%, 24% 96%, 16% 82%, 17% 72%, 25% 65%, 33% 60%, 35% 30%, 32% 24%, 34% 17%, 37% 7%, 44% 3%, 52% 2%, 61% 6%, 65% 17%, 67% 25%, 64% 32%, 66% 59%, 73% 63%, 79% 67%, 82% 73%, 84% 80%, 80% 93%, 66% 98%, 56% 98%, 50% 97%);
        clip-path: polygon(36% 99%, 24% 96%, 16% 82%, 17% 72%, 25% 65%, 33% 60%, 35% 30%, 32% 24%, 34% 17%, 37% 7%, 44% 3%, 52% 2%, 61% 6%, 65% 17%, 67% 25%, 64% 32%, 66% 59%, 73% 63%, 79% 67%, 82% 73%, 84% 80%, 80% 93%, 66% 98%, 56% 98%, 50% 97%);
    }

    .traffic-cone {
        border-radius: 0 !important;   
        -webkit-clip-path: polygon(14% 88%, 22% 64%, 30% 64%, 45% 8%, 50% 4%, 55% 7%, 72% 63%, 78% 64%, 85% 89%);
        clip-path: polygon(14% 88%, 22% 64%, 30% 64%, 45% 8%, 50% 4%, 55% 7%, 72% 63%, 78% 64%, 85% 89%);
    }

    .sheep {
        border-radius: 0 !important;   
        -webkit-clip-path: polygon(25% 84%, 24% 78%, 24% 68%, 21% 67%, 19% 64%, 19% 62%, 15% 61%, 14% 58%, 14% 56%, 12% 53%, 10% 51%, 8% 52%, 5% 52%, 5% 49%, 7% 45%, 10% 43%, 10% 37%, 13% 34%, 14% 30%, 14% 26%, 16% 25%, 19% 25%, 21% 25%, 22% 21%, 24% 20%, 29% 20%, 31% 21%, 33% 21%, 34% 18%, 36% 17%, 40% 17%, 43% 19%, 45% 18%, 51% 16%, 54% 18%, 56% 19%, 60% 18%, 64% 18%, 67% 20%, 71% 19%, 71% 18%, 77% 18%, 78% 19%, 79% 17%, 82% 18%, 83% 19%, 87% 20%, 90% 21%, 89% 23%, 89% 27%, 87% 27%, 91% 31%, 94% 32%, 95% 34%, 94% 36%, 92% 36%, 88% 34%, 87% 32%, 88% 39%, 89% 43%, 89% 47%, 87% 53%, 84% 55%, 80% 56%, 79% 60%, 76% 63%, 75% 64%, 74% 67%, 71% 69%, 68% 69%, 64% 67%, 67% 71%, 67% 74%, 67% 78%, 67% 80%, 66% 82%, 61% 82%, 61% 79%, 61% 74%, 61% 71%, 60% 70%, 58% 72%, 55% 71%, 53% 70%, 50% 73%, 47% 73%, 42% 73%, 40% 72%, 37% 71%, 38% 74%, 38% 79%, 38% 81%, 38% 83%, 34% 84%, 33% 83%, 31% 75%, 33% 72%, 33% 69%, 31% 68%, 30% 71%, 30% 73%, 31% 78%, 31% 81%, 31% 84%, 28% 85%, 26% 84%, 22% 85%, 23% 81%);
        clip-path: polygon(25% 84%, 24% 78%, 24% 68%, 21% 67%, 19% 64%, 19% 62%, 15% 61%, 14% 58%, 14% 56%, 12% 53%, 10% 51%, 8% 52%, 5% 52%, 5% 49%, 7% 45%, 10% 43%, 10% 37%, 13% 34%, 14% 30%, 14% 26%, 16% 25%, 19% 25%, 21% 25%, 22% 21%, 24% 20%, 29% 20%, 31% 21%, 33% 21%, 34% 18%, 36% 17%, 40% 17%, 43% 19%, 45% 18%, 51% 16%, 54% 18%, 56% 19%, 60% 18%, 64% 18%, 67% 20%, 71% 19%, 71% 18%, 77% 18%, 78% 19%, 79% 17%, 82% 18%, 83% 19%, 87% 20%, 90% 21%, 89% 23%, 89% 27%, 87% 27%, 91% 31%, 94% 32%, 95% 34%, 94% 36%, 92% 36%, 88% 34%, 87% 32%, 88% 39%, 89% 43%, 89% 47%, 87% 53%, 84% 55%, 80% 56%, 79% 60%, 76% 63%, 75% 64%, 74% 67%, 71% 69%, 68% 69%, 64% 67%, 67% 71%, 67% 74%, 67% 78%, 67% 80%, 66% 82%, 61% 82%, 61% 79%, 61% 74%, 61% 71%, 60% 70%, 58% 72%, 55% 71%, 53% 70%, 50% 73%, 47% 73%, 42% 73%, 40% 72%, 37% 71%, 38% 74%, 38% 79%, 38% 81%, 38% 83%, 34% 84%, 33% 83%, 31% 75%, 33% 72%, 33% 69%, 31% 68%, 30% 71%, 30% 73%, 31% 78%, 31% 81%, 31% 84%, 28% 85%, 26% 84%, 22% 85%, 23% 81%);
    }
    .dick-butt {
        border-radius: 0 !important;   
        -webkit-clip-path: polygon(79% 68%, 82% 63%, 83% 57%, 83% 54%, 85% 54%, 87% 53%, 89% 52%, 90% 49%, 89% 46%, 88% 45%, 86% 45%, 86% 43%, 86% 41%, 85% 40%, 84% 40%, 83% 40%, 81% 41%, 81% 43%, 79% 44%, 79% 42%, 80% 40%, 81% 36%, 81% 32%, 80% 28%, 77% 26%, 75% 25%, 72% 26%, 72% 28%, 72% 32%, 71% 37%, 70% 42%, 68% 43%, 63% 44%, 60% 46%, 58% 48%, 56% 49%, 51% 41%, 50% 35%, 48% 27%, 46% 19%, 41% 13%, 34% 12%, 29% 13%, 23% 17%, 20% 23%, 18% 27%, 16% 29%, 16% 32%, 16% 34%, 18% 35%, 18% 42%, 19% 47%, 20% 53%, 22% 59%, 25% 64%, 30% 70%, 34% 74%, 39% 78%, 45% 79%, 46% 80%, 46% 88%, 39% 87%, 39% 89%, 41% 92%, 45% 94%, 49% 95%, 51% 91%, 51% 80%, 56% 79%, 61% 77%, 64% 76%, 65% 80%, 61% 79%, 59% 81%, 60% 83%, 62% 84%, 64% 85%, 67% 86%, 70% 87%, 72% 87%, 72% 85%, 72% 82%, 71% 78%, 70% 76%, 70% 73%, 74% 73%, 76% 72%, 77% 71%);
        clip-path: polygon(79% 68%, 82% 63%, 83% 57%, 83% 54%, 85% 54%, 87% 53%, 89% 52%, 90% 49%, 89% 46%, 88% 45%, 86% 45%, 86% 43%, 86% 41%, 85% 40%, 84% 40%, 83% 40%, 81% 41%, 81% 43%, 79% 44%, 79% 42%, 80% 40%, 81% 36%, 81% 32%, 80% 28%, 77% 26%, 75% 25%, 72% 26%, 72% 28%, 72% 32%, 71% 37%, 70% 42%, 68% 43%, 63% 44%, 60% 46%, 58% 48%, 56% 49%, 51% 41%, 50% 35%, 48% 27%, 46% 19%, 41% 13%, 34% 12%, 29% 13%, 23% 17%, 20% 23%, 18% 27%, 16% 29%, 16% 32%, 16% 34%, 18% 35%, 18% 42%, 19% 47%, 20% 53%, 22% 59%, 25% 64%, 30% 70%, 34% 74%, 39% 78%, 45% 79%, 46% 80%, 46% 88%, 39% 87%, 39% 89%, 41% 92%, 45% 94%, 49% 95%, 51% 91%, 51% 80%, 56% 79%, 61% 77%, 64% 76%, 65% 80%, 61% 79%, 59% 81%, 60% 83%, 62% 84%, 64% 85%, 67% 86%, 70% 87%, 72% 87%, 72% 85%, 72% 82%, 71% 78%, 70% 76%, 70% 73%, 74% 73%, 76% 72%, 77% 71%);
    }
    .show {
        transform: scale(1) rotate(0);
    }

    .animate-out {
        transform: scale(0) rotate(1000deg);
    }
</style>
<div class="border-wrap " id="wrapper">
    <video autoplay="true" id="videoElement" class=""></video>
</div>
<script text="text/javascript">
    var currentPosition = "bottom_left";
    var scale = 300;
    var pageScale = {xSize: 1920, ySize: 1080};
    (async function () {
        window.addEventListener('message', (e) => {
            let data = e.data;
            if (data.message === "fromSocket") {
                let socketMessage = data.value;
                if (socketMessage.message === "updateState") {
                    let state = socketMessage.value.camera
                    currentPosition = state.position;
                    scale = state.scale;
                    scaleUp(scale);
                    if (state.visible) {
                        document.getElementById("wrapper").classList.add("show");
                    } else {
                        document.getElementById("wrapper").classList.remove("show");
                    }
                }
            }else if(data.message === "setScale"){
                document.body.style = "width: " + data.value.xSize + "px; height: " + data.value.ySize + "px;"
                pageScale = data.value;
            }
        })
        navigator.getUserMedia = navigator.getUserMedia ||
            navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia ||
            navigator.msGetUserMedia;

        if (!navigator.getUserMedia) {
            return false;
        }
        var video = document.querySelector("#videoElement");

        function getWebcam() {
            navigator.mediaDevices.getUserMedia({
                video: true,
                audio: false,
            }).then(async (stream) => {
                let id = await getIDForCamera('HD Pro Webcam C920');
                console.log("ID is " + id);
                if(id){
                    navigator.mediaDevices.getUserMedia({
                        video: {deviceId: id},
                        audio: false,
                    }).then((actualStream) => {
                        video.srcObject = actualStream;
                    }).catch((err) => {
                        console.log(err);
                    })
                }
            }).catch((err) => {
                console.log(err);
            })
        }

        getWebcam();
    })();
    
    async function getIDForCamera(label){
        return await navigator.mediaDevices.getUserMedia({video:true, audio:false})
        .then(stream => 
            navigator.mediaDevices
            .enumerateDevices()
            .then(devices => {
            return devices
            })
            .catch(err => {throw err})
        )
        .then(devices => {
            const faceTimeCam = devices.find(device => 
                device.kind === 'videoinput' && device.label.indexOf(label) !== -1);
            return (faceTimeCam && faceTimeCam.deviceId) || undefined;
        })
        .catch(err => console.error(err))
    }

    function scaleUp(newCircleSize) {
        let wrap = newCircleSize + 50;
        scale = newCircleSize;
        document.getElementById("wrapper").style = generateCSS(newCircleSize, currentPosition);
        document.getElementById("videoElement").style = "width: " + newCircleSize + "px; height: " + newCircleSize +
            "px;";
    }

    function generateCSS(scale, position) {
        let css = "";
        let wrap = scale + 50;
        let bottom = 0;
        let left = 0;
        let xSize = pageScale.xSize;
        let ySize = pageScale.ySize;
        if (position === "center") {
            bottom = ((ySize - wrap) / 2);
            left = ((xSize - wrap) / 2);
        } else if (position === "bottom_left") {
            bottom = 20;
            left = 20;
        } else if (position === "bottom_right") {
            left = ((xSize - 20) - wrap);
            bottom = 20;
        } else if (position === "top_left") {
            left = 20;
            bottom = ((ySize  - 20) - wrap);
        } else if (position === "top_right") {
            left = ((xSize - 20) - wrap);
            bottom = ((ySize - 20) - wrap);
        } else if (position === "top_middle") {
            left = ((xSize - wrap) / 2);
            bottom = ((ySize - 20) - wrap);
        } else if (position === "bottom_middle") {
            left = ((xSize - wrap) / 2);
            bottom = 20;
        } else if (position === "left_middle") {
            left = 20;
            bottom = ((ySize - wrap) / 2);
        } else if (position === "right_middle") {
            left = ((xSize - 20) - wrap);
            bottom = ((ySize - wrap) / 2);
        }
        return "width: " + wrap + "px; height: " + wrap + "px; bottom: " + bottom + "px; left: " + left + "px;";
    }
</script>